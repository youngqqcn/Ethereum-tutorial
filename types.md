# core/types
### core/types/block.go
block data stucture:

```go
type Block struct {
    // 指向 Header 结构（之后会详细说明），header 存储一个区块的基本信息
	header       *Header
    // 指向 Header 结构
	uncles       []*Header
    // 一组 transaction 结构
	transactions Transactions
	// 当前区块的哈希值
    hash atomic.Value
    // 当前区块的大小
	size atomic.Value

    // 总的区块难度
    // Td is used by package core to store the total difficulty
	// of the chain up to and including the block.
	td *big.Int

    // 接收时间
	ReceivedAt   time.Time
    // 接收来源
	ReceivedFrom interface{}
}
```

交易组成区块，一个一个区块以单向链表的形式连在一起组成区块链
Header data structure:

```go 
type Header struct {
    // 父区块的哈希值
	ParentHash  common.Hash
    // 叔区块的哈希值
	UncleHash   common.Hash
    // 矿工得到奖励的账户，一般是矿工本地第一个账户
    Coinbase    common.Address
    // 表示当前所有用户状态
    Root        common.Hash
    // 本区块所有交易 Hash，即摘要
	TxHash      common.Hash
    // 本区块所有收据 Hash，即摘要
    ReceiptHash common.Hash 
    // 布隆过滤器，用来搜索收据
    Bloom       Bloom
    // 该区块难度，动态调整，与父区块和本区块挖矿时间有关。
    Difficulty  *big.Int
    // 该区块高度
    Number      *big.Int
    
    // 用量上限，该数值根据父区块 gas 用量调节，
    // 如果 parentGasUsed > parentGasLimit * (2/3) 
    // 则增大该数值，反之则减小该数值。
    GasLimit    uint64
    // 实际花费的 gas
    GasUsed     uint64
    // 新区块的出块时间，严格来说是开始挖矿的时间
    Time        *big.Int   
    // 额外数据
    Extra       []byte
    // 混合哈希，与nonce 结合使用
    MixDigest   common.Hash  
    // 挖矿的nonce
    Nonce       BlockNonce  
}
```


### core/types/transaction.go

```go 
type Transaction struct {
	data txdata    // Consensus contents of a transaction
	time time.Time // Time first seen locally (spam avoidance)

	// caches
	hash atomic.Value
	size atomic.Value
	from atomic.Value
}

type txdata struct {
	AccountNonce uint64   
	Price        *big.Int 
	GasLimit     uint64  
	Recipient    *common.Address 
	Amount       *big.Int 
	Payload      []byte 

	// Signature values
	V *big.Int
	R *big.Int 
	S *big.Int 

	// This is only used when marshaling to JSON.
	Hash *common.Hash
}

```



### core/types/receipt.go


收据

```go
// Receipt represents the results of a transaction.
type Receipt struct {
	// Consensus fields: These fields are defined by the Yellow Paper
	PostState         []byte 
	Status            uint64 
	CumulativeGasUsed uint64 
	Bloom             Bloom  
	Logs              []*Log 

	// Implementation fields: These fields are added by geth when processing a transaction.
	// They are stored in the chain database.
	TxHash          common.Hash
	ContractAddress common.Address
	GasUsed         uint64

	// Inclusion information: These fields provide information about the inclusion of the
	// transaction corresponding to this receipt.
	BlockHash        common.Hash 
	BlockNumber      *big.Int
	TransactionIndex uint
}
```




### core/types/log.go

```go
// Log represents a contract log event. These events are generated by the LOG opcode and
// stored/indexed by the node.
type Log struct {
	// Consensus fields:
	// address of the contract that generated the event
	Address common.Address 
	
    // list of topics provided by the contract.
	Topics []common.Hash
	
    // supplied by the contract, usually ABI-encoded
	Data []byte 

	// Derived fields. These fields are filled in by the node
	// but not secured by consensus.
	// block in which the transaction was included
	BlockNumber uint64 
	
    // hash of the transaction
	TxHash common.Hash 
	
    // index of the transaction in the block
	TxIndex uint
	
    // hash of the block in which the transaction was included
	BlockHash common.Hash 
	
    // index of the log in the block
	Index uint

	// The Removed field is true if this log was reverted due to a chain reorganisation.
	// You must pay attention to this field if you receive logs through a filter query.
	Removed bool 
}
```


- core/types/bloom9.go  布隆过滤器



